var app={addEmail:function(e){for(var o=["t","c","a","t","n","o","c"],i=window.location.host.replace("www.","").replace("calc.",""),s=o.reverse().join("")+"@"+i,a="mailto:"+s+"?subject=SonicTone Calculator",n=$(e),t=0;t<n.length;t++)n[t].innerHTML=s,$(n[t]).attr("href",a)}};$(document).ready(function(){$("#nav > li > a").click(function(){if($(this).attr("href")=="#")return $("#nav > li > a").prop("class","nav-link"),$(this).prop("class","nav-link active"),$("div.calc-div").prop("class","calc-div calc-inactive"),$("div.calc-div").css("display","none"),$("#"+$(this).data("div")).fadeIn(),!1}),$("#nav > li:first-child > a").prop("class","nav-link active"),$("div.calc-div").prop("class","calc-div calc-inactive"),$("div.calc-div").css("display","none"),$("#ohms-law").fadeIn(),$("#ohms-form").submit(function(){var e=$("#current").val(),t=$("#resistance").val(),n=$("#voltage").val();return e==""&&t==""||t==""&&n==""||e==""&&n==""?alert("You must fill out two of the variable values."):$.ajax("/process",{method:"POST",headers:{Accept:"application/json"},data:{type:"ohms",current:e,resistance:t,voltage:n},complete:function(e){if(e.responseJSON!=void 0){var t=e.responseJSON;$("#answer-ohm-box").hide(),t.voltage!=void 0?($("#answer-ohm-box")[0].innerHTML="<h4>V = "+t.voltage+" Volts</h4>",$("#answer-ohm-box").fadeIn()):t.current!=void 0?($("#answer-ohm-box")[0].innerHTML="<h4>I = "+t.current+" Amps</h4>",$("#answer-ohm-box").fadeIn()):t.resistance!=void 0&&($("#answer-ohm-box")[0].innerHTML="<h4>R = "+t.resistance+" Ohms</h4>",$("#answer-ohm-box").fadeIn())}}}),!1}),$("#voltage-form").submit(function(){var e=$("#voltage_in").val(),t=$("#resistance1").val(),n=$("#resistance2").val();return e==""||t==""||n==""?alert("You must fill out all of the variable values."):$.ajax("/process",{method:"POST",headers:{Accept:"application/json"},data:{type:"voltage-div",voltage:e,resistance1:t,resistance2:n},complete:function(e){if(e.responseJSON!=void 0){var t=e.responseJSON;$("#answer-voltage-div-box").hide(),t.voltage_out!=void 0&&t.db_reduction!=void 0&&($("#answer-voltage-div-box")[0].innerHTML="<h4>V<sub>(out)</sub> = "+t.voltage_out+' Volts<br /><span class="small">(dB: '+t.db_reduction+")</span></h4>",$("#answer-voltage-div-box").fadeIn())}}}),!1}),$("#power-form").submit(function(){var e=$("#current_power").val(),t=$("#voltage_power").val(),n=$("#max").val();return e==""||t==""?alert("You must fill out the current and voltage variable values."):$.ajax("/process",{method:"POST",headers:{Accept:"application/json"},data:{type:"power",current:e,voltage:t,max:n},complete:function(e){if(e.responseJSON!=void 0){var n,t=e.responseJSON;$("#answer-power-box").hide(),t.power!=void 0&&(n=t.power+" Watts",t.dissipation!=void 0&&(n=n+'<br /><span class="small">('+t.dissipation+"% dissipation)</span>"),$("#answer-power-box")[0].innerHTML="<h4>"+n+"</h4>",$("#answer-power-box").fadeIn())}}}),!1}),$("#freq-form").submit(function(){var e=$("#resistance_filter").val(),t=$("#capacitance_filter").val();return e==""||t==""?alert("You must fill out the current and voltage variable values."):$.ajax("/process",{method:"POST",headers:{Accept:"application/json"},data:{type:"freq",resistance:e,capacitance:t},complete:function(e){if(e.responseJSON!=void 0){var t=e.responseJSON;$("#answer-freq-box").hide(),t.frequency!=void 0&&($("#answer-freq-box")[0].innerHTML="<h4>"+t.frequency+" Hz</h4>",$("#answer-freq-box").fadeIn())}}}),!1}),$("#res-form").submit(function(){var e=$("#resistance_values").val(),t=$("input[name=res_config]:checked","#res-form").val();return e==""?alert("You must fill out the resistance values."):$.ajax("/process",{method:"POST",headers:{Accept:"application/json"},data:{type:"resistance",resistance_values:e,resistance_config:t},complete:function(e){if(e.responseJSON!=void 0){var t=e.responseJSON;$("#answer-resistance-box").hide(),t.resistance!=void 0&&($("#answer-resistance-box")[0].innerHTML="<h4>"+t.resistance+" Ohms</h4>",$("#answer-resistance-box").fadeIn())}}}),!1}),$("#cap-form").submit(function(){var e=$("#capacitance_values").val(),t=$("input[name=cap_config]:checked","#cap-form").val();return e==""?alert("You must fill out the capacitance values."):$.ajax("/process",{method:"POST",headers:{Accept:"application/json"},data:{type:"capacitance",capacitance_values:e,capacitance_config:t},complete:function(e){if(e.responseJSON!=void 0){var t=e.responseJSON;$("#answer-capacitance-box").hide(),t.capacitance!=void 0&&($("#answer-capacitance-box")[0].innerHTML="<h4>"+t.capacitance.F+'<br /><span class="small">['+t.capacitance.uF+"uF, "+t.capacitance.nF+"nF, "+t.capacitance.pF+"pF]</span></h4>",$("#answer-capacitance-box").fadeIn())}}}),!1}),$("#bias-form").submit(function(){var s=$("#amp_operation").val(),o=$("#amp_bias_type").val(),i=$("#amp_config").val(),a=$("#tube_type").val(),e=$("#ot_primary_resistance_1").val(),r=$("#ot_primary_resistance_2").val(),t=$("#b_plus").val(),n=$("#plate_voltage_1").val(),c=$("#plate_voltage_2").val();return e==""||t==""||n==""?alert("You must fill out the B+ voltage and at least one of the OT and plate voltage values."):$.ajax("/process",{method:"POST",headers:{Accept:"application/json"},data:{type:"bias",amp_operation:s,amp_bias_type:o,amp_config:i,tube_type:a,bPlus:t,ot1:e,ot2:r,pv1:n,pv2:c},complete:function(e){if(e.responseJSON!=void 0){var n,t=e.responseJSON,s=t.num_of_tubes==4?" (2 Tubes)":" (1 Tube)";$("#answer-bias-box").hide(),n="<h5>"+t.tube_type+"</h5><strong>Max Plate Dissipation:</strong> "+t.max_plate_dissipation+"<br /><strong>Max Plate Voltage:</strong> "+t.max_plate_voltage+"<br /><strong>Max Cathode Current:</strong> "+t.max_cathode_current+"<br /><strong>Number of Tubes:</strong> "+t.num_of_tubes+"<br /><br /><p><em>Nominal bias target of <strong>"+t.nominal_bias+"%</strong> for a "+t.amp_config+" "+t.amp_operation+", "+t.amp_bias_type+' amp.</em></p><div class="bias-tube-1"><h6 style="font-weight: bold;">Tube Set #1'+s+"</h6><strong>Bias:</strong> "+t.tube1_bias_point+' (<strong class="'+t.tube1_bias_result.toLowerCase()+'">'+t.tube1_bias_result+'</strong>)<br /><strong>P<span class="hide">late </span>C<span class="hide">urrent</span>:</strong> '+t.tube1_plate_current+'<br /><strong>P<span class="hide">late </span>D<span class="hide">issipation</span>:</strong> '+t.tube1_plate_dissipation+'<span class="hide"> (of '+t.max_plate_dissipation+" max)</span><br /></div>",t.tube2_bias_point!=void 0&&t.tube2_bias_point!=""&&(n=n+'<div class="bias-tube-2"><h6 style="font-weight: bold;">Tube Set #2'+s+"</h6><strong>Bias:</strong> "+t.tube2_bias_point+' (<strong class="'+t.tube2_bias_result.toLowerCase()+'">'+t.tube2_bias_result+'</strong>)<br /><strong>P<span class="hide">late </span>C<span class="hide">urrent</span>:</strong> '+t.tube2_plate_current+'<br /><strong>P<span class="hide">late </span>D<span class="hide">issipation</span>:</strong> '+t.tube2_plate_dissipation+'<span class="hide"> (of '+t.max_plate_dissipation+" max)</span><br /></div>"),$("#answer-bias-box")[0].innerHTML=n,$("#answer-bias-box").fadeIn()}}}),!1}),$("#b-plus-form").submit(function(){var e=$("#vac").val(),t=$("#rectifier").val();return e==""?alert("You must fill out the VAC value."):$.ajax("/process",{method:"POST",headers:{Accept:"application/json"},data:{type:"b-plus",vac:e,rectifier:t},complete:function(e){if(e.responseJSON!=void 0){var t=e.responseJSON;$("#answer-b-plus-box").hide(),t.upper_voltage!=void 0&&(t.lower_voltage!=void 0?$("#answer-b-plus-box")[0].innerHTML="<h4>"+t.lower_voltage+" - "+t.upper_voltage+" Volts</h4>":$("#answer-b-plus-box")[0].innerHTML="<h4>"+t.upper_voltage+" Volts</h4>",$("#answer-b-plus-box").fadeIn())}}}),!1}),$("#ot-form").submit(function(){var e=$("#ot_voltage_primary").val(),t=$("#ot_voltage_secondary").val(),n=$("#ot_primary_impedance").val(),s=$("#ot_speaker_impedance").val();return n!=""&&s!=""||t!=""&&e!=""&&n!=""||t!=""&&e!=""&&s!=""?$.ajax("/process",{method:"POST",headers:{Accept:"application/json"},data:{type:"ot",voltagePrimary:e,voltageSecondary:t,primaryImpedance:n,speakerImpedance:s},complete:function(e){if(e.responseJSON!=void 0){var t=e.responseJSON;$("#answer-ot-box").hide(),t.speaker_impedance!=void 0&&($("#answer-ot-box")[0].innerHTML="<h4>Primary: "+t.primary_impedance+"; Speaker: "+t.speaker_impedance+'<br /><span class="small">(Impedance Ratio: '+t.impedance_ratio+":1; Winding Ratio: "+t.winding_ratio+":1)</span></h4>",$("#answer-ot-box").fadeIn())}}}):alert("You must either fill out both of the voltage values and either a primary or secondary impedance value; Or, you must enter both the primary and secondary values."),!1}),$("a.contact-email")[0]!=void 0&&app.addEmail("a.contact-email")})